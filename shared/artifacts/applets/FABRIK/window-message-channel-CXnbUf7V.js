function g(s,e){const o=new MessageChannel,r=[o.port2],i=o.port1;s.addEventListener("toggle",t=>{try{s.open&&e.contentWindow&&e.contentWindow.postMessage("Transferring message port","*",r)}catch(n){n instanceof Error&&!n.message.match("neutered")&&console.debug("Error transferring message port: ",n)}}),i.onmessage=t=>{t.data.pageHeight&&e&&(e.style.height=`${t.data.pageHeight+100}px`)}}function a(s){let e=-1,o=null;window.addEventListener("message",t=>{t.origin!==window.origin||t.source!==window.parent||(o=t.ports?.[0],e=document.body.offsetHeight,r(e))});function r(t){o&&o.postMessage({pageHeight:t,pageId:s})}new MutationObserver(t=>{const n=document.body.offsetHeight;n!==e&&(e=n,r(e))}).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}export{a as r,g as s};
